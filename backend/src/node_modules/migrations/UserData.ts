import { MakeUserGateway } from "gateway/user/UserGateway";
import {readJSON, resourcePath} from "framework/Util";
const winston = require("winston");

export function up() {
    return new Promise((resolve: any, reject: any) => {
        const userData = readJSON(`${resourcePath()}/users.json`);
        console.log("chay user");
        resolve(userData.map((data) => {
            let name = "Demo User";
            if (data.username) { name = data.username; }
            const user = MakeUserGateway().create({
                username: data.username,
                email: data.email,
                password: data.password,
            });
            return {user};
        }));
    });
}
